\begin{ingrid}
continuedataset:

link:
/name (OISSTv2.1_Product_Page) def
/href (https://www.ncdc.noaa.gov/oisst/optimum-interpolation-sea-surface-temperature-oisst-v21) def
:link
link:
/name (source) def
/href (https://www.ncei.noaa.gov/data/sea-surface-temperature-optimum-interpolation/v2.1/access/avhrr/) def
:link
link:
/name (Data_Access) def
/href (https://www.ncdc.noaa.gov/oisst/data-access) def
:link
link:
/name (FAQ) def
/href (https://www.ncdc.noaa.gov/oisst/oisst-frequently-asked-questions) def
:link
link:
/name (References) def
/href (https://www.ncdc.noaa.gov/oisst/references) def
:link

dataset:
/name (AVHRR) def

 /platform (Ships, buoys, Argo floats, MetOp-A, MetOp-B) def
 /creator_email (oisst-help@noaa.gov) def
 /instrument (Earth Remote Sensing Instruments > Passive Remote Sensing > Spectrometers/Radiometers > Imaging Spectrometers/Radiometers > AVHRR > Advanced Very High Resolution Radiometer) def
 /geospatial_lat_max 90.0 def
 /cdm_data_type (Grid) def
 /platform_vocabulary (Global Change Master Directory (GCMD) Platform Keywords) def
 /geospatial_lat_min -90.0 def
 /geospatial_lon_resolution 0.25 def
 /keywords_vocabulary (Global Change Master Directory (GCMD) Earth Science Keywords) def
 /geospatial_lon_max 360.0 def
 /processing_level (NOAA Level 4) def
 /sensor (Thermometer, AVHRR) def
 /comment (Data was converted from NetCDF-3 to NetCDF-4 format with metadata updates in November 2017.) def
 /geospatial_lat_units (degrees_north) def
 /title (NOAA/NCEI 1/4 Degree Daily Optimum Interpolation Sea Surface Temperature (OISST) Analysis, Version 2.1 - Final) def
 /geospatial_lon_units (degrees_east) def
 /creator_url (https://www.ncei.noaa.gov/) def
 /references (Reynolds, et al.(2007) Daily High-Resolution-Blended Analyses for Sea Surface Temperature (available at https://doi.org/10.1175/2007JCLI1824.1). Banzon, et al.(2016) A long-term record of blended satellite and in situ sea-surface temperature for climate monitoring, modeling and environmental studies (available at https://doi.org/10.5194/essd-8-165-2016). Huang et al. (2020) Improvements of the Daily Optimum Interpolation Sea Surface Temperature (DOISST) Version v02r01, submitted.Climatology is based on 1971-2000 OI.v2 SST. Satellite data: Pathfinder AVHRR SST and Navy AVHRR SST. Ice data: NCEP Ice and GSFC Ice.) def
 /history (Final file created using preliminary as first guess, and 3 days of AVHRR data. Preliminary uses only 1 day of AVHRR data.) def
 /Conventions (CF-1.6, ACDD-1.3) def
 /standard_name_vocabulary (CF Standard Name Table (v40, 25 January 2017)) def
 /source (ICOADS, NCEP_GTS, GSFC_ICE, NCEP_ICE, Pathfinder_AVHRR, Navy_AVHRR) def
 /institution (NOAA/National Centers for Environmental Information) def
 /geospatial_lat_resolution 0.25 def
 /instrument_vocabulary (Global Change Master Directory (GCMD) Instrument Keywords) def
 /ncei_template_version (NCEI_NetCDF_Grid_Template_v2.0) def
 /keywords (Earth Science > Oceans > Ocean Temperature > Sea Surface Temperature) def
 /geospatial_lon_min 0.0 def
 /summary (NOAAs 1/4-degree Daily Optimum Interpolation Sea Surface Temperature (OISST) (sometimes referred to as Reynolds SST, which however also refers to earlier products at different resolution), currently available as version v02r01, is created by interpolating and extrapolating SST observations from different sources, resulting in a smoothed complete field. The sources of data are satellite (AVHRR) and in situ platforms (i.e., ships and buoys), and the specific datasets employed may change over time. At the marginal ice zone, sea ice concentrations are used to generate proxy SSTs.  A preliminary version of this file is produced in near-real time (1-day latency), and then replaced with a final version after 2 weeks. Note that this is the AVHRR-ONLY DOISST, available from Oct 1981, but there is a companion DOISST product that includes microwave satellite data, available from June 2002) def
 /naming_authority (gov.noaa.ncei) def
 /product_version (Version v02r01) def
 /metadata_link (https://doi.org/10.25921/RE9P-PT57) def

grid:
/name (lon)def
/long_name (Longitude) def
/standard_name (projection_x_coordinate) def
/units (degree_east)def
periodic
 0.125 0.25 359.875
:grid

grid:
/name (lat)def
/long_name (Latitude) def
/standard_name (projection_y_coordinate) def
/units (degree_north)def
 -89.875 0.25 89.875
:grid

grid:
/name (zlev)def
/units (meters)def
values: 0.0 :values
:grid

grid:
/name /T def
/standard_name (time) def
/defaultvalue {last} def
/units (julian_day)def
01 Sep 1981 julian_day
1.0
%It takes 15 days to generate new file from today 
  systemtime
   systemtime2ymd ymd2rjt
   15. sub
   rjt2ymd ymd2systemtime
   (%d %b %Y) 12 strftime
interp julian_day 
/netcdfgrid true def
:grid

T {(/Data/data21/noaa/ncdc/OI-daily-v2p1/NetCDF/avhrr/%Y%m[T]/oisst-avhrr-v02r01.%Y%m%d[T].nc) [T] } removeextrausing
%There is a new file every day
/expires last 13 add rjt2ymd ymd2systemtime def
name exch def
/expires T .expires def
/last_modified T .last_modified def


 /anom{
[ lon lat zlev | T ] (/Data/data21/noaa/ncdc/OI-daily-v2p1/NetCDF/avhrr/%Y%m[T]/oisst-avhrr-v02r01.%Y%m%d[T].nc) [T] readdatafile:
/name (anom) def
 /valid_max 1200 def
 /missing_value -999 def
 /long_name (Daily sea surface temperature anomalies) def
 /units /Celsius_scale def
 /scale_factor 0.01 def
 /valid_min -1200 def
 /shortarraytype netcdfrecords :readdatafile
}defasvarsilent

 /err{
[ lon lat zlev | T ] (/Data/data21/noaa/ncdc/OI-daily-v2p1/NetCDF/avhrr/%Y%m[T]/oisst-avhrr-v02r01.%Y%m%d[T].nc) [T] readdatafile:
/name (err) def
 /valid_max 1000 def
 /missing_value -999 def
 /long_name (Estimated error standard deviation of analysed_sst) def
 /units /Celsius_scale def
 /scale_factor 0.01 def
 /valid_min 0 def
 /shortarraytype netcdfrecords :readdatafile
}defasvarsilent

 /ice{
[ lon lat zlev | T ] (/Data/data21/noaa/ncdc/OI-daily-v2p1/NetCDF/avhrr/%Y%m[T]/oisst-avhrr-v02r01.%Y%m%d[T].nc) [T] readdatafile:
/name (ice) def
 /valid_max 100 def
 /missing_value -999 def
 /long_name (Sea ice concentration) def
 /units /unitless def
 /scale_factor 0.01 def
 /valid_min 0 def
 /shortarraytype netcdfrecords :readdatafile
}defasvarsilent

 /sst{
[ lon lat zlev | T ] (/Data/data21/noaa/ncdc/OI-daily-v2p1/NetCDF/avhrr/%Y%m[T]/oisst-avhrr-v02r01.%Y%m%d[T].nc) [T] readdatafile:
/name (sst) def
 /valid_max 4500 def
 /missing_value -999 def
 /long_name (Daily sea surface temperature) def
 /units /Celsius_scale def
 /scale_factor 0.01 def
 /valid_min -300 def
 /shortarraytype netcdfrecords :readdatafile
}defasvarsilent

:dataset

:dataset
\end{ingrid}
