\begin{ingrid}
continuedataset:

datasetdefs:

grid:
   /name /Smod def
   0 3.5 52
    % the end year here must be one year more than the current year (i.e. use 2020 once 2019 has arrived as the start year in the S grid)
   7 mul
   systemtime systemtime2ymd pop
   pop
   1 add
   2015 sub mul
	
:grid
:datasetdefs


\end{ingrid}
grid:
/name (S) def
/units (days since 1960-01-01) def
/long_name (forecast start time) def
/standard_name (forecast_reference_time) def
18 May 2015 julian_day 01 Jan 1960 julian_day sub
1.
11 Nov 2024 julian_day
01 Jan 1960 julian_day sub
/pointwidth 0. def
/defaultvalue { last } def
:grid
\begin{ingrid}

  /S Smod
    0 add
    7 mod
    0 maskgt
    Smod add
    Smod
     0.5 add
     replaceNaN
    /name /S def
    Smod
     0 add
     /name /Smod2 def
     exch use_as_grid
    .S
    /units (days since 2015-01-01) def
    /pointwidth 0 def
     dup
     (days since 1960-01-01) streamgridunitconvert
    /long_name (forecast start time) def
    /standard_name (forecast_reference_time) def
    /defaultvalue {last}def
    def

     S dup 18
     May 2015 julian_day
     01
      Jan 1960 julian_day
      sub
      11 Nov 2024 julian_day
      01 Jan 1960 julian_day sub
     subgrid
    replaceGRID


grid:
/name /hdate def
/units (months since 1960-01-01) def
01 Jul 1995 ensotime
12.0
% hdate must be one less year than the current year
01 Jul 2023 ensotime
/defaultvalue { last } def
:grid

grid:
/name /L def
/long_name (Lead) def
/standard_name (forecast_period) def
/units (days) def
1. 1. 46.
/pointwidth 0. def
:grid

grid:
/name /M def
/long_name (Ensemble Member) def
/standard_name (realization) def
/units (ids) def
0 1 10
:grid


 /ensembles { [ M L | S hdate ] 
 (/Data/data25/ECMWF/S2S/ECMF/REF/SSW/%Y[S]/%m[S]/SSW.ecmwf.%Y[hdate]%m%d[S].%Y%m%d[S]) [ S hdate ]
readdatafile:
((45(11(25X,F6.7,/)),(10(25X,F6.7,/),(25X,F6.7)))) formatted
:readdatafile
/missing_value -999 def
/units (unitless) def
} defasvarsilent



:dataset
\end{ingrid}
