\begin{ingrid}
continuedataset:


grid:
/name /L def
/long_name (Lead) def
/standard_name (forecast_period) def
/units (days) def
1. 1. 60.
/pointwidth 0. def
:grid

grid:
/name /M def
/long_name (Ensemble Member) def
/standard_name (realization) def
/units (ids) def
0 1 6
:grid

dataset:
/name (RETRO) def

[ M L] {name exch def } forall

grid:
/name (S) def
/units (days since 1960-01-01) def
/long_name (forecast start time) def
/standard_name (forecast_reference_time) def
01 Jan 2018 julian_day 01 Jan 1960 julian_day sub
1.0
25 Dec 2018 julian_day
01 Jan 1960 julian_day sub
/pointwidth 0. def
/defaultvalue { last } def
:grid

  S monthlyedgesgrid
   name units gridtype mark gridvalues {dup 8 add dup 8 add dup 8 add}forall
                     pop
                     counttomark realarray astore
        nip NewGRID
    nip /pointwidth 0. def
  first secondtolast subgrid
/defaultvalue { last } def
   name exch def

grid:
/name /hdate def
/units (months since 1960-01-01) def
01 Jul 1993 ensotime
12.0
01 Jul 2015 ensotime
/defaultvalue { last } def
:grid

 /ensembles { [ M L | S hdate ] 
 (/Data/data25/ECMWF/S2S/UKMO/REF/SSW/%Y[S]/%m[S]/SSW.ukmo.%Y[hdate]%m%d[S].%Y%m%d[S]) [ S hdate ]
readdatafile:
((59(7(26X,F6.7,/)),(6(26X,F6.7,/),(26X,F6.7)))) formatted
:readdatafile
S first (0000 27 Dec 2018) RANGE
/units (unitless) def
} defasvarsilent

:dataset

dataset:
/name (REALTIME) def

[ M L] {name exch def } forall

grid:
/name (S) def
/units (days since 1960-01-01) def
/long_name (forecast start time) def
/standard_name (forecast_reference_time) def
01 Jan 2019 julian_day 01 Jan 1960 julian_day sub
1.0
systemtime
(%d %b %Y) 12 strftime interp julian_day 79. sub
01 Jan 1960 julian_day sub
/pointwidth 0. def
/defaultvalue { last } def
:grid

  S monthlyedgesgrid
   name units gridtype mark gridvalues {dup 8 add dup 8 add dup 8 add}forall
                     pop
                     counttomark realarray astore
        nip NewGRID
    nip /pointwidth 0. def
  first secondtolast subgrid
/defaultvalue { last } def
   name exch def

S {(/Data/data25/ECMWF/S2S/UKMO/REF/SSW/%Y[S]/%m[S]/SSW.ukmo.2015%m%d[S].%Y%m%d[S]) [S]} removeextrausing
name exch def

S last cvsunits
interp exch 0.5 add
   3 -1 roll
    ymd:nextmonth ymd:nextmonth
   ymd2systemtime
 nip
 /expires exch def
name exch def
/expires S  .expires def

grid:
/name /hdate def
/units (months since 1960-01-01) def
01 Jul 1993 ensotime
12.0
01 Jul 2016 ensotime
/defaultvalue { last } def
:grid

 /ensembles { [ M L | S hdate ]
 (/Data/data25/ECMWF/S2S/UKMO/REF/SSW/%Y[S]/%m[S]/SSW.ukmo.%Y[hdate]%m%d[S].%Y%m%d[S]) [ S hdate ]
readdatafile:
((59(7(26X,F6.7,/)),(6(26X,F6.7,/),(26X,F6.7)))) formatted
:readdatafile
S (0000 1 Jan 2019) last RANGE
/units (unitless) def
} defasvarsilent

:dataset

:dataset
\end{ingrid}
