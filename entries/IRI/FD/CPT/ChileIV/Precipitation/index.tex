\begin{ingrid}

/ID SOURCES .Chile .DGA .meteorological .regionIV .station .daily .ID def

continuedataset:

   grid:
      /name (T2) def
      monthtime
      /pointwidth 12 def
      1 Jul 1981 ensotime
      12
      1 Jul 2009 ensotime
      /long_name (Training period) def
    :grid
    grid:
      /name /S def
      monthtime
      /long_name (Start time) def
      /standard_name (forecast_reference_time) def
      /defaultvalue { last } def
      /pointwidth 0 def
      values:
        1 Apr 2011 ensotime
        12
        systemtime systemtime2ymd pop
        pop
        4 1 ymd2rm1960
        {} for
      :values
    :grid
S { (/beluga/data/verbist/chile/coquimbo/precipitation/Forecasts_%Y[S]_Start4_Lead1.txt) [S] } removeextrausing
      /expires
        systemtime dup dup systemtime2ymd pop pop 4. 2. ymd2systemtime lt {
          systemtime2ymd pop pop 1. sub 4. 2. ymd2systemtime
        }{
          systemtime2ymd pop pop 4. 2. ymd2systemtime
        }ifelse
        dup last_modified lt {
          systemtime2ymd pop pop 1. add 4. 2. ymd2systemtime
        }if
      def
   name exch def
  /expires S .expires def
  /last_modified S .last_modified def
    grid:
      /name (L) def
      /units (months) def
      /fullname (Forecast Lead Time in Months) def
      3.
    :grid
    grid:
      /name (NVZ) def
      1 1 3
    :grid
    /target_date {S L add /long_name (forecast time) def /pointwidth 4 def} defasvar
    /hindcast_date {T2 6 sub 3 add L add /long_name (hindcast time) def /pointwidth 4 def} defasvar
    /PearsonR {
      [ NVZ ID | L ]
      (/beluga/data/verbist/chile/coquimbo/precipitation/PearsonR_Start4_Lead%d[L].txt) [L 2. sub] 
      readdatafile: 
        [4 1] r*4astsv
      :readdatafile
        /name (PearsonR) def
        /long_name (Pearson correlation skill values) def
        /fullname (Pearson R) def
        /units (unitless) def
        /missing_value -999. def
        correlationcolorscale
        /scale_min -1. def
        /scale_max 1. def
        NVZ 3 VALUE /NVZ removeGRID
    }defasvarcachesilent
   /lon {
      [ NVZ ID | ]
      (/beluga/data/verbist/chile/coquimbo/precipitation/PearsonR_Start4_Lead1.txt)
      readdatafile:
        [4 1] r*4astsv
      :readdatafile
        /name (lon) def
        /long_name (longitude) def
        /units (degree_east) def
        /scale_min -71.5 def
        /scale_max -69.8 def
        NVZ 2 VALUE /NVZ removeGRID
    }defasvarcachesilent
    /lat {
      [ NVZ ID | ]
      (/beluga/data/verbist/chile/coquimbo/precipitation/PearsonR_Start4_Lead1.txt)
      readdatafile:
        [4 1] r*4astsv
      :readdatafile
        /name (lat) def
        /long_name (latitude) def
        /units (degree_north) def
        /scale_min -32. def
        /scale_max -29.3 def
        NVZ 1 VALUE /NVZ removeGRID
    }defasvarcachesilent
    /CrossValHind {
      [ ID T2 | L ]
      (/beluga/data/verbist/chile/coquimbo/precipitation/CrossValPred_Start4_Lead%d[L].txt) [L 2. sub]
      readdatafile:
        [6 1] r*4astsv
      :readdatafile
        /name (CrossValHind) def
        /long_name (cross-validated hindcasts) def
        /fullname (Hindcast) def
        /units (mm) def
        /missing_value -999. def
    }defasvarcachesilent
    /Forecast {
      [ ID | S L ]
      (/beluga/data/verbist/chile/coquimbo/precipitation/Forecasts_%Y[S]_Start%-m[S]_Lead%d[L].txt) [S L 2. sub]
      readdatafile:
        [6 1] r*4astsv
      :readdatafile
        /missing_value -999. def
        /name (Forecast) def
        /long_name (current forecast) def
        /fullname (Forecast) def
        /units (mm) def
      prcp_0to500_colors
    }defasvarcachesilent
    /PredErrorVars {
      [ ID | S L ]
      (/beluga/data/verbist/chile/coquimbo/precipitation/PredErrorVars_%Y[S]_Start%-m[S]_Lead%d[L].txt) [S L 2. sub]
      readdatafile:
        [6 1] r*4astsv
      :readdatafile
        /missing_value -999. def
      /name (PredErrorVars) def
      /long_name (prediction error variance) def
      /fullname (Error) def
      /units (mm) def
      /scale_min 0. def
    }defasvarcachesilent
    /InputObs {
      [ ID T2 | L]
      (/beluga/data/verbist/chile/coquimbo/precipitation/YinputData_Start4_Lead%d[L].txt) [L 2. sub]
      readdatafile:
        [6 1] r*4astsv
      :readdatafile
        /name (InputObs) def
        /long_name (input observations) def
        /fullname (Obs) def
        /units (mm) def
        /missing_value -999. def
    }defasvarcachesilent
  /history (Output from CPT http://iri.columbia.edu/CPT/v10/) def
  :dataset
\end{ingrid}
