\begin{ingrid}

continuedataset:
datasetdefs:

grid:
/name /mycol def
1 1 13
:grid

grid:
/name /WMOID def
/units (ids) def
values: 83980   83919   83942   83912   83964   83881   83914   83967   83995   83936   83997   83907   83948   83927 :values
:grid

grid:
/name /T def
/units (days since 1960-01-01) def
/defaultvalue { last } def
1 Jan 2000 julian_day 01 Jan 1960 julian_day sub 0.5 add
1.0
31 Dec 2012 julian_day 01 Jan 1960 julian_day sub 0.5 add
:grid

grid:
/name /day366 def
/units (days) def
0.5 1 365.5
:grid

grid:
/name /zeyears def
/units (months since 1960-01-01) def
16 Jan 2000 ensotime
12.
16 Jan 2012 ensotime/pointwidth 1. def
:grid

/zevar {
[mycol day366 | zeyears WMOID]
(/data/remic/mydatafiles/inmet/databank/SIM_COMPLETO_SUL/EC_%Y[zeyears]_%d[WMOID].TXT)
[zeyears WMOID]
readdatafile:
[0 1] r*4astsv
:readdatafile
/missing_value -999 def
   [mycol WMOID]REORDER
      [day366 zeyears] /I
           nchunk NewIntegerGRID
	        replaceGRIDstream
		   I gridvalues {dup 732.0 eq 1 index 1098.0 eq or 1 index 1464.0 eq or 1 index 2196.0 eq or
1 index 2562. eq or 1 index 2928. eq or 1 index 3660. eq or 1 index 4026. eq or 1 index 4392. eq or
{pop}if}forall VALUES
		      I T replaceGRID
		         T first (11 Sep 2012) RANGE
			 }defasvarsilent

:datasetdefs

{Completos} {currentobject 1 index get def} forall

grid:
/name /Stn def
values: (bage)    (bomjesus)        (caxiasdosul)     (cruzalta)        (encruzilhadadosul)       (irai)    (passofundo)      (portoalegre)     (riogrande)       (santamaria)      (santavitoriadopalmar)    (saoluizgonzaga)  (torres)  (uruguaiana) :values
:grid

/T zevar .T def
/WMOID zevar .WMOID def

/lat {
zevar
mycol 2 VALUE
mycol removeGRID
T first VALUE
T removeGRID
/long_name (Latitude) def
/units (degree_north) def
/scale_min -34 def
/scale_max -26 def
}defasvar

/lon {
zevar
mycol 3 VALUE
mycol removeGRID
T first VALUE
T removeGRID
/long_name (Longitude) def
/units (degree_east) def
/scale_min -58 def
/scale_max -48 def
}defasvar

/elev {
zevar
mycol 4 VALUE
mycol removeGRID
T first VALUE
T removeGRID
/long_name (elevation) def
/units (m) def
}defasvar

/temp_med {
zevar
mycol 5 VALUE
mycol removeGRID
/long_name (Temperatura Média Compensada) def
/units (Celsius_scale) def
}defasvar

/temp_max {
zevar
mycol 6 VALUE
mycol removeGRID
/long_name (Temperatura Máxima) def
/units (Celsius_scale) def
}defasvar

/temp_min {
zevar
mycol 7 VALUE
mycol removeGRID
/long_name (Temperatura Mínima) def
/units (Celsius_scale) def
}defasvar

/umidade_med {
zevar
mycol 8 VALUE
mycol removeGRID
/long_name (Umidade Relativa do Ar Média) def
/units (percent) def
}defasvar

/pressao_med {
zevar
mycol 9 VALUE
mycol removeGRID
/long_name (Pressão Média ao Nível da Estação) def
/units (mb) def
}defasvar

/insolacao {
zevar
mycol 10 VALUE
mycol removeGRID
/long_name (Insolação Total Diário) def
/units (h) def
}defasvar

/vel_vento_med {
zevar
mycol 11 VALUE
mycol removeGRID
/long_name (Velocidade Média do Vento) def
/units (m/s) def
}defasvar

/precipitacao {
zevar
mycol 12 VALUE
mycol removeGRID
/long_name (Precipitação Total Diária) def
/units (mm) def
}defasvar

/evaporacao_piche {
zevar
mycol 13 VALUE
mycol removeGRID
/long_name (Evaporação de Piche) def
/units (mm) def
}defasvar
:dataset


/location {
lon lat geopt
}defasvar

\end{ingrid}
